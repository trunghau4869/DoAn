<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Danh mục thể loại</title>

<!--  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">-->
<!--  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>-->
<!--  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>-->
<!--  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">-->
<!--  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">-->


  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
          integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
          crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
          integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
          crossorigin="anonymous"></script>

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">



  <link rel="stylesheet" href="/Vinh/css/Footer.css">
<!--  <link rel="stylesheet" href="/nha/css/category/create.css">-->
  <link rel="stylesheet" href="/nha/css/Demo.css">
  <link rel="stylesheet" href="/Vinh/css/Header.css">


</head>
<body>
<div th:insert="~{/HeaderFooter/Header::header-cline}"></div>
<div class="main">
  <div th:insert="~{/nha/admin/ListProduct::main__left}"></div>
  <div class="main__right">
    <div class="create__category">
      <button>
        <a th:href="@{/admin/danhmuc/create}">
         Thêm Thể Loại Sản Phẩm
       </a>
      </button>
    </div>

    <div>
      <span class="alert alert-success" th:utext="${mgsedit}" th:if="${mgsedit}"></span>
    </div>
    <table class="table__container">
      <thead class="table__thead">
      <tr>
        <th>Mã Danh Mục</th>
        <th>Tên Danh Mục</th>
        <th>Hình Ảnh </th>
        <th>Hành Động</th>
      </tr>
      </thead>

      <tbody class="table__tbody">
      <tr th:each="danhmuc : ${danhmucs}">
        <td>
          <h4 th:text="${danhmuc.idCategory}"></h4>
        </td>
        <td ><h4 th:text="${danhmuc.categoryName}"></h4>
        </td>
        <td><img th:href="@{'/Images/'+${danhmuc.categoryImg}}">
        </td>
        <td>
          <a th:href="@{/admin/danhmuc/edit(id = ${danhmuc.idCategory})}">
            <button class="button__action background-blue " th:href="@{/admin/danhmuc/edit(id = ${danhmuc.idCategory})}">
              <span>Cập nhật</span>
            </button>
          </a>
            <button class="button__action background-red"  th:onclick="preparedelete([[${danhmuc.idCategory}]],[[${danhmuc.categoryName}]])" >
                <span>
                  &#88;
                </span>
            </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<div id="exampleModal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"
                aria-hidden="true">
          &times;
        </button>
      </div>
      <div class="modal-body">
        <span id="maDanhMuc"></span>
        <p>Bạn có chắc chắn muốn xóa
          <span id="tenDanhMuc"></span>
          Không ?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Hủy
        </button>
        <button style="color: red" onclick="deleteService($('#maDanhMuc').html())" type="button"
                class="btn btn-default" data-dismiss="modal">
          Xóa
        </button>
      </div>
    </div>
  </div>
</div>
<div  th:insert="~{/HeaderFooter/Footer::footer_clinet}">

  <div class="footer__content">

    <div class="footer__img">
      <img src="/Images/Walmart_logo.svg" alt="">
    </div>

    <ul class="footer__list">
      <h5 class="footer__list-title">Về Neffex</h5>
      <li class="footer__item">Thông tin về chúng tôi</li>
      <li class="footer__item">Danh sách cửa hàng</li>
      <li class="footer__item">Liên hệ</li>
      <li class="footer__item">Flash sale</li>
    </ul>

    <ul class="footer__list">
      <h5 class="footer__list-title">Theo dõi chúng tôi tại</h5>
      <li class="footer__item">
        Facebook
      </li>
      <li class="footer__item">Instagram</li>
      <li class="footer__item">Google</li>
      <li class="footer__item">Twitter</li>
    </ul>

    <ul class="footer__list">
      <h5 class="footer__list-title">Thanh toán</h5>
      <img src="/Images/visalogo.svg" alt="">
      <img src="https://cdn.pixabay.com/photo/2018/05/08/21/29/paypal-3384015_960_720.png" alt="">
      <img src="/Images/JCBlogo.svg" alt="">
      <img src="/Images/mastercard.webp" alt="">
    </ul>
  </div>
</div>
<script>
  function preparedelete(maDanhMuc,tenSanPham) {
    $(`#maDanhMuc`).html(maDanhMuc);
    $('#tenSanPham').html(tenSanPham);
  }
  function deleteService(maDanhMuc) {
    console.log(maDanhMuc);
    $.ajax(
            {
              type: 'get',
              url: "/admin/danhmuc/delete/" + maDanhMuc,
              success: function () {
                window.location.href = "/admin/danhmuc/list";
              }
            }
    )
  }
</script>
<script src="/bootstrap/js/jquery.js"></script>
</body>
</html>